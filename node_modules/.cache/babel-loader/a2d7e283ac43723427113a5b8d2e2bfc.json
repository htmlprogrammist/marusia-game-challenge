{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component } from 'react';\nimport { Icon } from '@iconify/react';\nimport playCircle from '@iconify/icons-mdi/play-circle';\nimport pauseCircle from '@iconify/icons-mdi/pause-circle';\nimport skipPrevious from '@iconify/icons-mdi/skip-previous';\nimport skipNext from '@iconify/icons-mdi/skip-next';\nimport fastForward from '@iconify/icons-mdi/fast-forward';\nimport rewind from '@iconify/icons-mdi/rewind';\nimport volumeHigh from '@iconify/icons-mdi/volume-high';\nimport volumeMute from '@iconify/icons-mdi/volume-mute';\nimport repeat from '@iconify/icons-mdi/repeat';\nimport repeatOff from '@iconify/icons-mdi/repeat-off';\n\nclass H5AudioPlayer extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", void 0);\n\n    _defineProperty(this, \"audio\", void 0);\n\n    _defineProperty(this, \"volumeControl\", void 0);\n\n    _defineProperty(this, \"progressBar\", void 0);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"lastVolume\", void 0);\n\n    _defineProperty(this, \"timeOnMouseMove\", void 0);\n\n    _defineProperty(this, \"listenTracker\", void 0);\n\n    _defineProperty(this, \"togglePlay\", e => {\n      e.stopPropagation();\n\n      if (this.audio.paused && this.audio.src) {\n        var audioPromise = this.audio.play();\n        audioPromise.then(null).catch(err => {\n          var {\n            onPlayError\n          } = this.props;\n          onPlayError && onPlayError(new Error(err));\n        });\n      } else if (!this.audio.paused) {\n        this.audio.pause();\n      }\n    });\n\n    _defineProperty(this, \"handleClickVolumeButton\", () => {\n      if (this.audio.volume > 0) {\n        this.lastVolume = this.audio.volume;\n        this.audio.volume = 0;\n      } else {\n        this.audio.volume = this.lastVolume;\n      }\n\n      this.setState({\n        currentVolumePos: \"\".concat((this.audio.volume * 100).toFixed(0), \"%\")\n      });\n    });\n\n    _defineProperty(this, \"handleVolumnControlMouseDown\", event => {\n      event.stopPropagation();\n      var {\n        currentVolume,\n        currentVolumePos\n      } = this.getCurrentVolume(event.nativeEvent);\n      this.audio.volume = currentVolume;\n      this.setState({\n        isDraggingVolume: true,\n        currentVolumePos\n      });\n\n      if (event.nativeEvent instanceof TouchEvent) {\n        window.addEventListener('touchmove', this.handleWindowMouseOrTouchMove);\n        window.addEventListener('touchend', this.handleWindowMouseOrTouchUp);\n      } else if (event.nativeEvent instanceof MouseEvent) {\n        window.addEventListener('mousemove', this.handleWindowMouseOrTouchMove);\n        window.addEventListener('mouseup', this.handleWindowMouseOrTouchUp);\n      }\n    });\n\n    _defineProperty(this, \"handleWindowMouseOrTouchMove\", event => {\n      event.preventDefault();\n      event.stopPropagation();\n      var windowSelection = window.getSelection();\n\n      if (windowSelection && windowSelection.type === 'Range') {\n        windowSelection.empty();\n      }\n\n      var {\n        isDraggingVolume,\n        isDraggingProgress\n      } = this.state;\n\n      if (isDraggingVolume) {\n        var {\n          currentVolume,\n          currentVolumePos\n        } = this.getCurrentVolume(event);\n        this.audio.volume = currentVolume;\n        this.setState({\n          currentVolumePos\n        });\n      } else if (isDraggingProgress) {\n        var {\n          currentTime: _currentTime,\n          currentTimePos\n        } = this.getCurrentProgress(event);\n        this.timeOnMouseMove = _currentTime;\n        this.setState({\n          currentTimePos\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleWindowMouseOrTouchUp\", event => {\n      event.stopPropagation();\n      this.setState(prevState => {\n        if (prevState.isDraggingProgress && isFinite(this.timeOnMouseMove)) {\n          this.audio.currentTime = this.timeOnMouseMove;\n        }\n\n        return {\n          isDraggingVolume: false,\n          isDraggingProgress: false\n        };\n      });\n\n      if (event instanceof TouchEvent) {\n        window.removeEventListener('touchmove', this.handleWindowMouseOrTouchMove);\n        window.removeEventListener('touchend', this.handleWindowMouseOrTouchUp);\n      } else {\n        window.removeEventListener('mousemove', this.handleWindowMouseOrTouchMove);\n        window.removeEventListener('mouseup', this.handleWindowMouseOrTouchUp);\n      }\n    });\n\n    _defineProperty(this, \"getCurrentVolume\", event => {\n      if (!this.volumeControl) {\n        return {\n          currentVolume: this.audio.volume,\n          currentVolumePos: this.state.currentVolumePos\n        };\n      }\n\n      var volumeBarRect = this.volumeControl.getBoundingClientRect();\n      var maxRelativePos = volumeBarRect.width;\n      var relativePos = H5AudioPlayer.getPosX(event) - volumeBarRect.left;\n      var currentVolume;\n      var currentVolumePos;\n\n      if (relativePos < 0) {\n        currentVolume = 0;\n        currentVolumePos = '0%';\n      } else if (relativePos > volumeBarRect.width) {\n        currentVolume = 1;\n        currentVolumePos = '100%';\n      } else {\n        currentVolume = relativePos / maxRelativePos;\n        currentVolumePos = \"\".concat(relativePos / maxRelativePos * 100, \"%\");\n      }\n\n      return {\n        currentVolume,\n        currentVolumePos\n      };\n    });\n\n    _defineProperty(this, \"handleMouseDownProgressBar\", event => {\n      event.stopPropagation();\n      var isTouch = event.type.startsWith('touch');\n      var {\n        currentTime,\n        currentTimePos\n      } = this.getCurrentProgress(event.nativeEvent);\n\n      if (isFinite(currentTime)) {\n        this.timeOnMouseMove = currentTime;\n        this.setState({\n          isDraggingProgress: true,\n          currentTimePos\n        });\n\n        if (isTouch) {\n          window.addEventListener('touchmove', this.handleWindowMouseOrTouchMove);\n          window.addEventListener('touchend', this.handleWindowMouseOrTouchUp);\n        } else {\n          window.addEventListener('mousemove', this.handleWindowMouseOrTouchMove);\n          window.addEventListener('mouseup', this.handleWindowMouseOrTouchUp);\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleClickLoopButton\", () => {\n      this.setState(prevState => ({\n        isLoopEnabled: !prevState.isLoopEnabled\n      }));\n    });\n\n    _defineProperty(this, \"handleClickRewind\", () => {\n      this.setJumpTime(-this.props.progressJumpStep);\n    });\n\n    _defineProperty(this, \"handleClickForward\", () => {\n      this.setJumpTime(this.props.progressJumpStep);\n    });\n\n    _defineProperty(this, \"setJumpTime\", time => {\n      var {\n        duration,\n        currentTime: prevTime\n      } = this.audio;\n      if (!isFinite(duration) || !isFinite(prevTime)) return;\n      var currentTime = prevTime + time / 1000;\n\n      if (currentTime < 0) {\n        this.audio.currentTime = 0;\n        currentTime = 0;\n      } else if (currentTime > duration) {\n        this.audio.currentTime = duration;\n        currentTime = duration;\n      } else {\n        this.audio.currentTime = currentTime;\n      }\n\n      this.setState({\n        currentTimePos: \"\".concat(currentTime / duration * 100, \"%\")\n      });\n    });\n\n    _defineProperty(this, \"setJumpVolume\", volume => {\n      var newVolume = this.audio.volume + volume;\n      if (newVolume < 0) newVolume = 0;else if (newVolume > 1) newVolume = 1;\n      this.audio.volume = newVolume;\n      this.setState({\n        currentVolumePos: \"\".concat((newVolume * 100).toFixed(0), \"%\")\n      });\n    });\n\n    _defineProperty(this, \"getCurrentProgress\", event => {\n      if (!this.audio.src || !isFinite(this.audio.currentTime) || !this.progressBar) {\n        return {\n          currentTime: 0,\n          currentTimePos: '0%'\n        };\n      }\n\n      var progressBarRect = this.progressBar.getBoundingClientRect();\n      var maxRelativePos = progressBarRect.width;\n      var relativePos = H5AudioPlayer.getPosX(event) - progressBarRect.left;\n\n      if (relativePos < 0) {\n        relativePos = 0;\n      } else if (relativePos > maxRelativePos) {\n        relativePos = maxRelativePos;\n      }\n\n      var currentTime = this.audio.duration * relativePos / maxRelativePos;\n      return {\n        currentTime,\n        currentTimePos: \"\".concat((relativePos / maxRelativePos * 100).toFixed(2), \"%\")\n      };\n    });\n\n    _defineProperty(this, \"getDisplayTimeBySeconds\", seconds => {\n      if (!isFinite(seconds)) {\n        return '00:00';\n      }\n\n      var addHeadingZero = H5AudioPlayer.addHeadingZero;\n      var min = addHeadingZero(Math.floor(seconds / 60));\n      var sec = addHeadingZero(Math.floor(seconds % 60));\n      return \"\".concat(min, \":\").concat(sec);\n    });\n\n    _defineProperty(this, \"setListenTrack\", () => {\n      if (!this.listenTracker) {\n        var listenInterval = this.props.listenInterval;\n        this.listenTracker = setInterval(() => {\n          this.props.onListen && this.props.onListen(this.audio.currentTime);\n        }, listenInterval);\n      }\n    });\n\n    _defineProperty(this, \"clearListenTrack\", () => {\n      if (this.listenTracker) {\n        clearInterval(this.listenTracker);\n        delete this.listenTracker;\n      }\n    });\n\n    _defineProperty(this, \"handleKeyDown\", e => {\n      switch (e.keyCode) {\n        case 32:\n          if (e.target === this.container || e.target === this.progressBar) {\n            this.togglePlay(e);\n          }\n\n          break;\n\n        case 37:\n          this.handleClickRewind();\n          break;\n\n        case 39:\n          this.handleClickForward();\n          break;\n\n        case 38:\n          this.setJumpVolume(this.props.volumeJumpStep);\n          break;\n\n        case 40:\n          this.setJumpVolume(-this.props.volumeJumpStep);\n          break;\n\n        case 76:\n          this.handleClickLoopButton();\n          break;\n\n        case 77:\n          this.handleClickVolumeButton();\n          break;\n      }\n    });\n\n    var {\n      volume: _volume,\n      muted\n    } = props;\n    this.state = {\n      currentTimePos: '0%',\n      currentVolumePos: muted ? '0%' : \"\".concat(_volume * 100, \"%\"),\n      isDraggingProgress: false,\n      isDraggingVolume: false,\n      isPlaying: false,\n      isLoopEnabled: this.props.loop,\n      downloadProgressArr: []\n    };\n    this.audio = new Audio();\n    this.lastVolume = _volume;\n    this.timeOnMouseMove = 0;\n  }\n\n  componentDidMount() {\n    var audio = this.audio;\n\n    if (this.props.muted) {\n      audio.volume = 0;\n    } else {\n      audio.volume = this.lastVolume;\n    }\n\n    audio.addEventListener('error', e => {\n      this.props.onError && this.props.onError(e);\n    });\n    audio.addEventListener('canplay', e => {\n      this.props.onCanPlay && this.props.onCanPlay(e);\n    });\n    audio.addEventListener('canplaythrough', e => {\n      this.props.onCanPlayThrough && this.props.onCanPlayThrough(e);\n    });\n    audio.addEventListener('play', e => {\n      this.setState({\n        isPlaying: true\n      });\n      this.setListenTrack();\n      this.props.onPlay && this.props.onPlay(e);\n    });\n    audio.addEventListener('abort', e => {\n      this.clearListenTrack();\n      var {\n        autoPlayAfterSrcChange\n      } = this.props;\n\n      if (autoPlayAfterSrcChange) {\n        this.audio.play();\n      } else {\n        this.setState({\n          isPlaying: false,\n          currentTimePos: '0%'\n        });\n      }\n\n      this.props.onAbort && this.props.onAbort(e);\n    });\n    audio.addEventListener('ended', e => {\n      this.clearListenTrack();\n      this.props.onEnded && this.props.onEnded(e);\n    });\n    audio.addEventListener('pause', e => {\n      this.clearListenTrack();\n      if (!this.audio) return;\n      this.setState({\n        isPlaying: false\n      });\n      this.props.onPause && this.props.onPause(e);\n    });\n    audio.addEventListener('progress', e => {\n      var audio = e.target;\n      var downloadProgressArr = [];\n\n      for (var i = 0; i < audio.buffered.length; i++) {\n        var bufferedStart = audio.buffered.start(i);\n        var bufferedEnd = audio.buffered.end(i);\n        downloadProgressArr.push({\n          left: \"\".concat(Math.round(100 / audio.duration * bufferedStart) || 0, \"%\"),\n          width: \"\".concat(Math.round(100 / audio.duration * (bufferedEnd - bufferedStart)) || 0, \"%\")\n        });\n      }\n\n      this.setState({\n        downloadProgressArr\n      });\n    });\n    audio.addEventListener('timeupdate', H5AudioPlayer.throttle(e => {\n      var {\n        isDraggingProgress\n      } = this.state;\n      var audio = e.target;\n      if (isDraggingProgress) return;\n      var {\n        duration,\n        currentTime\n      } = audio;\n      this.setState({\n        currentTimePos: \"\".concat((currentTime / duration * 100 || 0).toFixed(2), \"%\")\n      });\n    }, this.props.progressUpdateInterval));\n  }\n\n  render() {\n    var {\n      className,\n      src,\n      preload,\n      autoPlay,\n      crossOrigin,\n      mediaGroup,\n      showLoopControl,\n      showVolumeControl,\n      showSkipControls,\n      showJumpControls,\n      onClickPrevious,\n      onClickNext,\n      showDownloadProgress,\n      children,\n      style\n    } = this.props;\n    var {\n      currentTimePos,\n      currentVolumePos,\n      isPlaying,\n      isLoopEnabled,\n      downloadProgressArr\n    } = this.state;\n    var {\n      currentTime,\n      duration,\n      volume\n    } = this.audio;\n    return React.createElement(\"div\", {\n      role: \"group\",\n      tabIndex: 0,\n      \"aria-label\": \"Audio Player\",\n      className: \"rhap_container \".concat(className),\n      onKeyDown: this.handleKeyDown,\n      ref: _ref5 => {\n        this.container = _ref5;\n      },\n      style: style\n    }, React.createElement(\"audio\", {\n      src: src,\n      controls: false,\n      loop: isLoopEnabled,\n      autoPlay: autoPlay,\n      preload: preload,\n      crossOrigin: crossOrigin,\n      mediaGroup: mediaGroup,\n      ref: _ref => {\n        this.audio = _ref;\n      }\n    }, children), React.createElement(\"div\", {\n      className: \"rhap_progress-section\"\n    }, React.createElement(\"div\", {\n      id: \"rhap_current-time\",\n      className: \"rhap_time rhap_current-time\"\n    }, this.getDisplayTimeBySeconds(currentTime)), React.createElement(\"div\", {\n      className: \"rhap_progress-container\",\n      ref: _ref3 => {\n        this.progressBar = _ref3;\n      },\n      \"aria-label\": \"Audio Progress Control\",\n      \"aria-describedby\": \"rhap_current-time\",\n      role: \"progressbar\",\n      \"aria-valuemin\": 0,\n      \"aria-valuemax\": 100,\n      \"aria-valuenow\": Number(currentTimePos.split('%')[0]),\n      tabIndex: 0,\n      onMouseDown: this.handleMouseDownProgressBar,\n      onTouchStart: this.handleMouseDownProgressBar\n    }, React.createElement(\"div\", {\n      className: \"rhap_progress-bar \".concat(showDownloadProgress ? 'rhap_progress-bar-show-download' : '')\n    }, React.createElement(\"div\", {\n      className: \"rhap_progress-indicator\",\n      style: {\n        left: currentTimePos\n      }\n    }), showDownloadProgress && downloadProgressArr.map((_ref2, i) => {\n      var {\n        left,\n        width\n      } = _ref2;\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"rhap_download-progress\",\n        style: {\n          left,\n          width\n        }\n      });\n    }))), React.createElement(\"div\", {\n      className: \"rhap_time rhap_total-time\"\n    }, this.getDisplayTimeBySeconds(duration))), React.createElement(\"div\", {\n      className: \"rhap_controls-section\"\n    }, React.createElement(\"div\", {\n      className: \"rhap_additional-controls\"\n    }, showLoopControl && React.createElement(\"button\", {\n      \"aria-label\": isLoopEnabled ? 'Enable Loop' : 'Disable Loop',\n      className: \"rhap_button-clear rhap_repeat-button\",\n      onClick: this.handleClickLoopButton\n    }, React.createElement(Icon, {\n      icon: isLoopEnabled ? repeat : repeatOff\n    }))), React.createElement(\"div\", {\n      className: \"rhap_main-controls\"\n    }, showSkipControls && React.createElement(\"button\", {\n      \"aria-label\": \"Previous\",\n      className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n      onClick: onClickPrevious\n    }, React.createElement(Icon, {\n      icon: skipPrevious\n    })), showJumpControls && React.createElement(\"button\", {\n      \"aria-label\": \"Rewind\",\n      className: \"rhap_button-clear rhap_main-controls-button rhap_rewind-button\",\n      onClick: this.handleClickRewind\n    }, React.createElement(Icon, {\n      icon: rewind\n    })), React.createElement(\"button\", {\n      \"aria-label\": isPlaying ? 'Pause' : 'Play',\n      className: \"rhap_button-clear rhap_main-controls-button rhap_play-pause-button\",\n      onClick: this.togglePlay\n    }, isPlaying ? React.createElement(Icon, {\n      icon: pauseCircle\n    }) : React.createElement(Icon, {\n      icon: playCircle\n    })), showJumpControls && React.createElement(\"button\", {\n      \"aria-label\": \"Forward\",\n      className: \"rhap_button-clear rhap_main-controls-button rhap_forward-button\",\n      onClick: this.handleClickForward\n    }, React.createElement(Icon, {\n      icon: fastForward\n    })), showSkipControls && React.createElement(\"button\", {\n      \"aria-label\": \"Skip\",\n      className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n      onClick: onClickNext\n    }, React.createElement(Icon, {\n      icon: skipNext\n    }))), React.createElement(\"div\", {\n      className: \"rhap_volume-controls\"\n    }, showVolumeControl && React.createElement(\"div\", {\n      className: \"rhap_volume-container\"\n    }, React.createElement(\"button\", {\n      \"aria-label\": volume ? 'Mute' : 'Unmute',\n      onClick: this.handleClickVolumeButton,\n      className: \"rhap_button-clear rhap_volume-button\"\n    }, React.createElement(Icon, {\n      icon: volume ? volumeHigh : volumeMute\n    })), React.createElement(\"div\", {\n      ref: _ref4 => {\n        this.volumeControl = _ref4;\n      },\n      onMouseDown: this.handleVolumnControlMouseDown,\n      onTouchStart: this.handleVolumnControlMouseDown,\n      role: \"progressbar\",\n      \"aria-label\": \"volume Control\",\n      \"aria-valuemin\": 0,\n      \"aria-valuemax\": 100,\n      \"aria-valuenow\": Number((volume * 100).toFixed(0)),\n      tabIndex: 0,\n      className: \"rhap_volume-bar-area\"\n    }, React.createElement(\"div\", {\n      className: \"rhap_volume-bar\"\n    }, React.createElement(\"div\", {\n      className: \"rhap_volume-indicator\",\n      style: {\n        left: currentVolumePos\n      }\n    })))))));\n  }\n\n}\n\n_defineProperty(H5AudioPlayer, \"defaultProps\", {\n  autoPlay: false,\n  autoPlayAfterSrcChange: true,\n  listenInterval: 1000,\n  progressJumpStep: 5000,\n  volumeJumpStep: 0.1,\n  loop: false,\n  muted: false,\n  preload: 'auto',\n  progressUpdateInterval: 20,\n  volume: 1.0,\n  className: '',\n  showLoopControl: true,\n  showVolumeControl: true,\n  showJumpControls: true,\n  showSkipControls: false,\n  showDownloadProgress: true\n});\n\n_defineProperty(H5AudioPlayer, \"addHeadingZero\", num => num > 9 ? num.toString() : \"0\".concat(num));\n\n_defineProperty(H5AudioPlayer, \"getPosX\", event => {\n  var posX = 0;\n\n  if (event instanceof TouchEvent) {\n    posX = event.touches[0].pageX;\n  } else if (event instanceof MouseEvent) {\n    posX = event.pageX || event.clientX;\n  }\n\n  return posX;\n});\n\n_defineProperty(H5AudioPlayer, \"throttle\", (func, limit) => {\n  var inThrottle = false;\n  return function (arg) {\n    if (!inThrottle) {\n      func(arg);\n      inThrottle = true;\n      setTimeout(() => inThrottle = false, limit);\n    }\n  };\n});\n\nexport default H5AudioPlayer;","map":{"version":3,"sources":["D:/React/marusia-game-challenge/node_modules/react-h5-audio-player/es/index.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","React","Component","Icon","playCircle","pauseCircle","skipPrevious","skipNext","fastForward","rewind","volumeHigh","volumeMute","repeat","repeatOff","H5AudioPlayer","constructor","props","e","stopPropagation","audio","paused","src","audioPromise","play","then","catch","err","onPlayError","Error","pause","volume","lastVolume","setState","currentVolumePos","concat","toFixed","event","currentVolume","getCurrentVolume","nativeEvent","isDraggingVolume","TouchEvent","window","addEventListener","handleWindowMouseOrTouchMove","handleWindowMouseOrTouchUp","MouseEvent","preventDefault","windowSelection","getSelection","type","empty","isDraggingProgress","state","currentTime","_currentTime","currentTimePos","getCurrentProgress","timeOnMouseMove","prevState","isFinite","removeEventListener","volumeControl","volumeBarRect","getBoundingClientRect","maxRelativePos","width","relativePos","getPosX","left","isTouch","startsWith","isLoopEnabled","setJumpTime","progressJumpStep","time","duration","prevTime","newVolume","progressBar","progressBarRect","seconds","addHeadingZero","min","Math","floor","sec","listenTracker","listenInterval","setInterval","onListen","clearInterval","keyCode","target","container","togglePlay","handleClickRewind","handleClickForward","setJumpVolume","volumeJumpStep","handleClickLoopButton","handleClickVolumeButton","_volume","muted","isPlaying","loop","downloadProgressArr","Audio","componentDidMount","onError","onCanPlay","onCanPlayThrough","setListenTrack","onPlay","clearListenTrack","autoPlayAfterSrcChange","onAbort","onEnded","onPause","i","buffered","length","bufferedStart","start","bufferedEnd","end","push","round","throttle","progressUpdateInterval","render","className","preload","autoPlay","crossOrigin","mediaGroup","showLoopControl","showVolumeControl","showSkipControls","showJumpControls","onClickPrevious","onClickNext","showDownloadProgress","children","style","createElement","role","tabIndex","onKeyDown","handleKeyDown","ref","_ref5","controls","_ref","id","getDisplayTimeBySeconds","_ref3","Number","split","onMouseDown","handleMouseDownProgressBar","onTouchStart","map","_ref2","onClick","icon","_ref4","handleVolumnControlMouseDown","num","toString","posX","touches","pageX","clientX","func","limit","inThrottle","arg","setTimeout"],"mappings":"AAAA,SAASA,eAAT,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmCC,KAAnC,EAA0C;AAAE,MAAID,GAAG,IAAID,GAAX,EAAgB;AAAEG,IAAAA,MAAM,CAACC,cAAP,CAAsBJ,GAAtB,EAA2BC,GAA3B,EAAgC;AAAEC,MAAAA,KAAK,EAAEA,KAAT;AAAgBG,MAAAA,UAAU,EAAE,IAA5B;AAAkCC,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEP,IAAAA,GAAG,CAACC,GAAD,CAAH,GAAWC,KAAX;AAAmB;;AAAC,SAAOF,GAAP;AAAa;;AAEjN,OAAOQ,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,gBAArB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,SAAP,MAAsB,+BAAtB;;AAEA,MAAMC,aAAN,SAA4BZ,SAA5B,CAAsC;AACpCa,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AAEAxB,IAAAA,eAAe,CAAC,IAAD,EAAO,OAAP,EAAgB,KAAK,CAArB,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,OAAP,EAAgB,KAAK,CAArB,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,eAAP,EAAwB,KAAK,CAA7B,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,aAAP,EAAsB,KAAK,CAA3B,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAAK,CAAzB,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,KAAK,CAA1B,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,iBAAP,EAA0B,KAAK,CAA/B,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,eAAP,EAAwB,KAAK,CAA7B,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqByB,CAAC,IAAI;AACvCA,MAAAA,CAAC,CAACC,eAAF;;AAEA,UAAI,KAAKC,KAAL,CAAWC,MAAX,IAAqB,KAAKD,KAAL,CAAWE,GAApC,EAAyC;AACvC,YAAIC,YAAY,GAAG,KAAKH,KAAL,CAAWI,IAAX,EAAnB;AACAD,QAAAA,YAAY,CAACE,IAAb,CAAkB,IAAlB,EAAwBC,KAAxB,CAA8BC,GAAG,IAAI;AACnC,cAAI;AACFC,YAAAA;AADE,cAEA,KAAKX,KAFT;AAGAW,UAAAA,WAAW,IAAIA,WAAW,CAAC,IAAIC,KAAJ,CAAUF,GAAV,CAAD,CAA1B;AACD,SALD;AAMD,OARD,MAQO,IAAI,CAAC,KAAKP,KAAL,CAAWC,MAAhB,EAAwB;AAC7B,aAAKD,KAAL,CAAWU,KAAX;AACD;AACF,KAdc,CAAf;;AAgBArC,IAAAA,eAAe,CAAC,IAAD,EAAO,yBAAP,EAAkC,MAAM;AACrD,UAAI,KAAK2B,KAAL,CAAWW,MAAX,GAAoB,CAAxB,EAA2B;AACzB,aAAKC,UAAL,GAAkB,KAAKZ,KAAL,CAAWW,MAA7B;AACA,aAAKX,KAAL,CAAWW,MAAX,GAAoB,CAApB;AACD,OAHD,MAGO;AACL,aAAKX,KAAL,CAAWW,MAAX,GAAoB,KAAKC,UAAzB;AACD;;AAED,WAAKC,QAAL,CAAc;AACZC,QAAAA,gBAAgB,EAAE,GAAGC,MAAH,CAAU,CAAC,KAAKf,KAAL,CAAWW,MAAX,GAAoB,GAArB,EAA0BK,OAA1B,CAAkC,CAAlC,CAAV,EAAgD,GAAhD;AADN,OAAd;AAGD,KAXc,CAAf;;AAaA3C,IAAAA,eAAe,CAAC,IAAD,EAAO,8BAAP,EAAuC4C,KAAK,IAAI;AAC7DA,MAAAA,KAAK,CAAClB,eAAN;AACA,UAAI;AACFmB,QAAAA,aADE;AAEFJ,QAAAA;AAFE,UAGA,KAAKK,gBAAL,CAAsBF,KAAK,CAACG,WAA5B,CAHJ;AAIA,WAAKpB,KAAL,CAAWW,MAAX,GAAoBO,aAApB;AACA,WAAKL,QAAL,CAAc;AACZQ,QAAAA,gBAAgB,EAAE,IADN;AAEZP,QAAAA;AAFY,OAAd;;AAKA,UAAIG,KAAK,CAACG,WAAN,YAA6BE,UAAjC,EAA6C;AAC3CC,QAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqC,KAAKC,4BAA1C;AACAF,QAAAA,MAAM,CAACC,gBAAP,CAAwB,UAAxB,EAAoC,KAAKE,0BAAzC;AACD,OAHD,MAGO,IAAIT,KAAK,CAACG,WAAN,YAA6BO,UAAjC,EAA6C;AAClDJ,QAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqC,KAAKC,4BAA1C;AACAF,QAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKE,0BAAxC;AACD;AACF,KAnBc,CAAf;;AAqBArD,IAAAA,eAAe,CAAC,IAAD,EAAO,8BAAP,EAAuC4C,KAAK,IAAI;AAC7DA,MAAAA,KAAK,CAACW,cAAN;AACAX,MAAAA,KAAK,CAAClB,eAAN;AACA,UAAI8B,eAAe,GAAGN,MAAM,CAACO,YAAP,EAAtB;;AAEA,UAAID,eAAe,IAAIA,eAAe,CAACE,IAAhB,KAAyB,OAAhD,EAAyD;AACvDF,QAAAA,eAAe,CAACG,KAAhB;AACD;;AAED,UAAI;AACFX,QAAAA,gBADE;AAEFY,QAAAA;AAFE,UAGA,KAAKC,KAHT;;AAKA,UAAIb,gBAAJ,EAAsB;AACpB,YAAI;AACFH,UAAAA,aADE;AAEFJ,UAAAA;AAFE,YAGA,KAAKK,gBAAL,CAAsBF,KAAtB,CAHJ;AAIA,aAAKjB,KAAL,CAAWW,MAAX,GAAoBO,aAApB;AACA,aAAKL,QAAL,CAAc;AACZC,UAAAA;AADY,SAAd;AAGD,OATD,MASO,IAAImB,kBAAJ,EAAwB;AAC7B,YAAI;AACFE,UAAAA,WAAW,EAAEC,YADX;AAEFC,UAAAA;AAFE,YAGA,KAAKC,kBAAL,CAAwBrB,KAAxB,CAHJ;AAIA,aAAKsB,eAAL,GAAuBH,YAAvB;AACA,aAAKvB,QAAL,CAAc;AACZwB,UAAAA;AADY,SAAd;AAGD;AACF,KAjCc,CAAf;;AAmCAhE,IAAAA,eAAe,CAAC,IAAD,EAAO,4BAAP,EAAqC4C,KAAK,IAAI;AAC3DA,MAAAA,KAAK,CAAClB,eAAN;AACA,WAAKc,QAAL,CAAc2B,SAAS,IAAI;AACzB,YAAIA,SAAS,CAACP,kBAAV,IAAgCQ,QAAQ,CAAC,KAAKF,eAAN,CAA5C,EAAoE;AAClE,eAAKvC,KAAL,CAAWmC,WAAX,GAAyB,KAAKI,eAA9B;AACD;;AAED,eAAO;AACLlB,UAAAA,gBAAgB,EAAE,KADb;AAELY,UAAAA,kBAAkB,EAAE;AAFf,SAAP;AAID,OATD;;AAWA,UAAIhB,KAAK,YAAYK,UAArB,EAAiC;AAC/BC,QAAAA,MAAM,CAACmB,mBAAP,CAA2B,WAA3B,EAAwC,KAAKjB,4BAA7C;AACAF,QAAAA,MAAM,CAACmB,mBAAP,CAA2B,UAA3B,EAAuC,KAAKhB,0BAA5C;AACD,OAHD,MAGO;AACLH,QAAAA,MAAM,CAACmB,mBAAP,CAA2B,WAA3B,EAAwC,KAAKjB,4BAA7C;AACAF,QAAAA,MAAM,CAACmB,mBAAP,CAA2B,SAA3B,EAAsC,KAAKhB,0BAA3C;AACD;AACF,KApBc,CAAf;;AAsBArD,IAAAA,eAAe,CAAC,IAAD,EAAO,kBAAP,EAA2B4C,KAAK,IAAI;AACjD,UAAI,CAAC,KAAK0B,aAAV,EAAyB;AACvB,eAAO;AACLzB,UAAAA,aAAa,EAAE,KAAKlB,KAAL,CAAWW,MADrB;AAELG,UAAAA,gBAAgB,EAAE,KAAKoB,KAAL,CAAWpB;AAFxB,SAAP;AAID;;AAED,UAAI8B,aAAa,GAAG,KAAKD,aAAL,CAAmBE,qBAAnB,EAApB;AACA,UAAIC,cAAc,GAAGF,aAAa,CAACG,KAAnC;AACA,UAAIC,WAAW,GAAGrD,aAAa,CAACsD,OAAd,CAAsBhC,KAAtB,IAA+B2B,aAAa,CAACM,IAA/D;AACA,UAAIhC,aAAJ;AACA,UAAIJ,gBAAJ;;AAEA,UAAIkC,WAAW,GAAG,CAAlB,EAAqB;AACnB9B,QAAAA,aAAa,GAAG,CAAhB;AACAJ,QAAAA,gBAAgB,GAAG,IAAnB;AACD,OAHD,MAGO,IAAIkC,WAAW,GAAGJ,aAAa,CAACG,KAAhC,EAAuC;AAC5C7B,QAAAA,aAAa,GAAG,CAAhB;AACAJ,QAAAA,gBAAgB,GAAG,MAAnB;AACD,OAHM,MAGA;AACLI,QAAAA,aAAa,GAAG8B,WAAW,GAAGF,cAA9B;AACAhC,QAAAA,gBAAgB,GAAG,GAAGC,MAAH,CAAUiC,WAAW,GAAGF,cAAd,GAA+B,GAAzC,EAA8C,GAA9C,CAAnB;AACD;;AAED,aAAO;AACL5B,QAAAA,aADK;AAELJ,QAAAA;AAFK,OAAP;AAID,KA7Bc,CAAf;;AA+BAzC,IAAAA,eAAe,CAAC,IAAD,EAAO,4BAAP,EAAqC4C,KAAK,IAAI;AAC3DA,MAAAA,KAAK,CAAClB,eAAN;AACA,UAAIoD,OAAO,GAAGlC,KAAK,CAACc,IAAN,CAAWqB,UAAX,CAAsB,OAAtB,CAAd;AACA,UAAI;AACFjB,QAAAA,WADE;AAEFE,QAAAA;AAFE,UAGA,KAAKC,kBAAL,CAAwBrB,KAAK,CAACG,WAA9B,CAHJ;;AAKA,UAAIqB,QAAQ,CAACN,WAAD,CAAZ,EAA2B;AACzB,aAAKI,eAAL,GAAuBJ,WAAvB;AACA,aAAKtB,QAAL,CAAc;AACZoB,UAAAA,kBAAkB,EAAE,IADR;AAEZI,UAAAA;AAFY,SAAd;;AAKA,YAAIc,OAAJ,EAAa;AACX5B,UAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqC,KAAKC,4BAA1C;AACAF,UAAAA,MAAM,CAACC,gBAAP,CAAwB,UAAxB,EAAoC,KAAKE,0BAAzC;AACD,SAHD,MAGO;AACLH,UAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqC,KAAKC,4BAA1C;AACAF,UAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKE,0BAAxC;AACD;AACF;AACF,KAvBc,CAAf;;AAyBArD,IAAAA,eAAe,CAAC,IAAD,EAAO,uBAAP,EAAgC,MAAM;AACnD,WAAKwC,QAAL,CAAc2B,SAAS,KAAK;AAC1Ba,QAAAA,aAAa,EAAE,CAACb,SAAS,CAACa;AADA,OAAL,CAAvB;AAGD,KAJc,CAAf;;AAMAhF,IAAAA,eAAe,CAAC,IAAD,EAAO,mBAAP,EAA4B,MAAM;AAC/C,WAAKiF,WAAL,CAAiB,CAAC,KAAKzD,KAAL,CAAW0D,gBAA7B;AACD,KAFc,CAAf;;AAIAlF,IAAAA,eAAe,CAAC,IAAD,EAAO,oBAAP,EAA6B,MAAM;AAChD,WAAKiF,WAAL,CAAiB,KAAKzD,KAAL,CAAW0D,gBAA5B;AACD,KAFc,CAAf;;AAIAlF,IAAAA,eAAe,CAAC,IAAD,EAAO,aAAP,EAAsBmF,IAAI,IAAI;AAC3C,UAAI;AACFC,QAAAA,QADE;AAEFtB,QAAAA,WAAW,EAAEuB;AAFX,UAGA,KAAK1D,KAHT;AAIA,UAAI,CAACyC,QAAQ,CAACgB,QAAD,CAAT,IAAuB,CAAChB,QAAQ,CAACiB,QAAD,CAApC,EAAgD;AAChD,UAAIvB,WAAW,GAAGuB,QAAQ,GAAGF,IAAI,GAAG,IAApC;;AAEA,UAAIrB,WAAW,GAAG,CAAlB,EAAqB;AACnB,aAAKnC,KAAL,CAAWmC,WAAX,GAAyB,CAAzB;AACAA,QAAAA,WAAW,GAAG,CAAd;AACD,OAHD,MAGO,IAAIA,WAAW,GAAGsB,QAAlB,EAA4B;AACjC,aAAKzD,KAAL,CAAWmC,WAAX,GAAyBsB,QAAzB;AACAtB,QAAAA,WAAW,GAAGsB,QAAd;AACD,OAHM,MAGA;AACL,aAAKzD,KAAL,CAAWmC,WAAX,GAAyBA,WAAzB;AACD;;AAED,WAAKtB,QAAL,CAAc;AACZwB,QAAAA,cAAc,EAAE,GAAGtB,MAAH,CAAUoB,WAAW,GAAGsB,QAAd,GAAyB,GAAnC,EAAwC,GAAxC;AADJ,OAAd;AAGD,KArBc,CAAf;;AAuBApF,IAAAA,eAAe,CAAC,IAAD,EAAO,eAAP,EAAwBsC,MAAM,IAAI;AAC/C,UAAIgD,SAAS,GAAG,KAAK3D,KAAL,CAAWW,MAAX,GAAoBA,MAApC;AACA,UAAIgD,SAAS,GAAG,CAAhB,EAAmBA,SAAS,GAAG,CAAZ,CAAnB,KAAsC,IAAIA,SAAS,GAAG,CAAhB,EAAmBA,SAAS,GAAG,CAAZ;AACzD,WAAK3D,KAAL,CAAWW,MAAX,GAAoBgD,SAApB;AACA,WAAK9C,QAAL,CAAc;AACZC,QAAAA,gBAAgB,EAAE,GAAGC,MAAH,CAAU,CAAC4C,SAAS,GAAG,GAAb,EAAkB3C,OAAlB,CAA0B,CAA1B,CAAV,EAAwC,GAAxC;AADN,OAAd;AAGD,KAPc,CAAf;;AASA3C,IAAAA,eAAe,CAAC,IAAD,EAAO,oBAAP,EAA6B4C,KAAK,IAAI;AACnD,UAAI,CAAC,KAAKjB,KAAL,CAAWE,GAAZ,IAAmB,CAACuC,QAAQ,CAAC,KAAKzC,KAAL,CAAWmC,WAAZ,CAA5B,IAAwD,CAAC,KAAKyB,WAAlE,EAA+E;AAC7E,eAAO;AACLzB,UAAAA,WAAW,EAAE,CADR;AAELE,UAAAA,cAAc,EAAE;AAFX,SAAP;AAID;;AAED,UAAIwB,eAAe,GAAG,KAAKD,WAAL,CAAiBf,qBAAjB,EAAtB;AACA,UAAIC,cAAc,GAAGe,eAAe,CAACd,KAArC;AACA,UAAIC,WAAW,GAAGrD,aAAa,CAACsD,OAAd,CAAsBhC,KAAtB,IAA+B4C,eAAe,CAACX,IAAjE;;AAEA,UAAIF,WAAW,GAAG,CAAlB,EAAqB;AACnBA,QAAAA,WAAW,GAAG,CAAd;AACD,OAFD,MAEO,IAAIA,WAAW,GAAGF,cAAlB,EAAkC;AACvCE,QAAAA,WAAW,GAAGF,cAAd;AACD;;AAED,UAAIX,WAAW,GAAG,KAAKnC,KAAL,CAAWyD,QAAX,GAAsBT,WAAtB,GAAoCF,cAAtD;AACA,aAAO;AACLX,QAAAA,WADK;AAELE,QAAAA,cAAc,EAAE,GAAGtB,MAAH,CAAU,CAACiC,WAAW,GAAGF,cAAd,GAA+B,GAAhC,EAAqC9B,OAArC,CAA6C,CAA7C,CAAV,EAA2D,GAA3D;AAFX,OAAP;AAID,KAvBc,CAAf;;AAyBA3C,IAAAA,eAAe,CAAC,IAAD,EAAO,yBAAP,EAAkCyF,OAAO,IAAI;AAC1D,UAAI,CAACrB,QAAQ,CAACqB,OAAD,CAAb,EAAwB;AACtB,eAAO,OAAP;AACD;;AAED,UAAIC,cAAc,GAAGpE,aAAa,CAACoE,cAAnC;AACA,UAAIC,GAAG,GAAGD,cAAc,CAACE,IAAI,CAACC,KAAL,CAAWJ,OAAO,GAAG,EAArB,CAAD,CAAxB;AACA,UAAIK,GAAG,GAAGJ,cAAc,CAACE,IAAI,CAACC,KAAL,CAAWJ,OAAO,GAAG,EAArB,CAAD,CAAxB;AACA,aAAO,GAAG/C,MAAH,CAAUiD,GAAV,EAAe,GAAf,EAAoBjD,MAApB,CAA2BoD,GAA3B,CAAP;AACD,KATc,CAAf;;AAWA9F,IAAAA,eAAe,CAAC,IAAD,EAAO,gBAAP,EAAyB,MAAM;AAC5C,UAAI,CAAC,KAAK+F,aAAV,EAAyB;AACvB,YAAIC,cAAc,GAAG,KAAKxE,KAAL,CAAWwE,cAAhC;AACA,aAAKD,aAAL,GAAqBE,WAAW,CAAC,MAAM;AACrC,eAAKzE,KAAL,CAAW0E,QAAX,IAAuB,KAAK1E,KAAL,CAAW0E,QAAX,CAAoB,KAAKvE,KAAL,CAAWmC,WAA/B,CAAvB;AACD,SAF+B,EAE7BkC,cAF6B,CAAhC;AAGD;AACF,KAPc,CAAf;;AASAhG,IAAAA,eAAe,CAAC,IAAD,EAAO,kBAAP,EAA2B,MAAM;AAC9C,UAAI,KAAK+F,aAAT,EAAwB;AACtBI,QAAAA,aAAa,CAAC,KAAKJ,aAAN,CAAb;AACA,eAAO,KAAKA,aAAZ;AACD;AACF,KALc,CAAf;;AAOA/F,IAAAA,eAAe,CAAC,IAAD,EAAO,eAAP,EAAwByB,CAAC,IAAI;AAC1C,cAAQA,CAAC,CAAC2E,OAAV;AACE,aAAK,EAAL;AACE,cAAI3E,CAAC,CAAC4E,MAAF,KAAa,KAAKC,SAAlB,IAA+B7E,CAAC,CAAC4E,MAAF,KAAa,KAAKd,WAArD,EAAkE;AAChE,iBAAKgB,UAAL,CAAgB9E,CAAhB;AACD;;AAED;;AAEF,aAAK,EAAL;AACE,eAAK+E,iBAAL;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,kBAAL;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,aAAL,CAAmB,KAAKlF,KAAL,CAAWmF,cAA9B;AACA;;AAEF,aAAK,EAAL;AACE,eAAKD,aAAL,CAAmB,CAAC,KAAKlF,KAAL,CAAWmF,cAA/B;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,qBAAL;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,uBAAL;AACA;AA9BJ;AAgCD,KAjCc,CAAf;;AAmCA,QAAI;AACFvE,MAAAA,MAAM,EAAEwE,OADN;AAEFC,MAAAA;AAFE,QAGAvF,KAHJ;AAIA,SAAKqC,KAAL,GAAa;AACXG,MAAAA,cAAc,EAAE,IADL;AAEXvB,MAAAA,gBAAgB,EAAEsE,KAAK,GAAG,IAAH,GAAU,GAAGrE,MAAH,CAAUoE,OAAO,GAAG,GAApB,EAAyB,GAAzB,CAFtB;AAGXlD,MAAAA,kBAAkB,EAAE,KAHT;AAIXZ,MAAAA,gBAAgB,EAAE,KAJP;AAKXgE,MAAAA,SAAS,EAAE,KALA;AAMXhC,MAAAA,aAAa,EAAE,KAAKxD,KAAL,CAAWyF,IANf;AAOXC,MAAAA,mBAAmB,EAAE;AAPV,KAAb;AASA,SAAKvF,KAAL,GAAa,IAAIwF,KAAJ,EAAb;AACA,SAAK5E,UAAL,GAAkBuE,OAAlB;AACA,SAAK5C,eAAL,GAAuB,CAAvB;AACD;;AAEDkD,EAAAA,iBAAiB,GAAG;AAClB,QAAIzF,KAAK,GAAG,KAAKA,KAAjB;;AAEA,QAAI,KAAKH,KAAL,CAAWuF,KAAf,EAAsB;AACpBpF,MAAAA,KAAK,CAACW,MAAN,GAAe,CAAf;AACD,KAFD,MAEO;AACLX,MAAAA,KAAK,CAACW,MAAN,GAAe,KAAKC,UAApB;AACD;;AAEDZ,IAAAA,KAAK,CAACwB,gBAAN,CAAuB,OAAvB,EAAgC1B,CAAC,IAAI;AACnC,WAAKD,KAAL,CAAW6F,OAAX,IAAsB,KAAK7F,KAAL,CAAW6F,OAAX,CAAmB5F,CAAnB,CAAtB;AACD,KAFD;AAGAE,IAAAA,KAAK,CAACwB,gBAAN,CAAuB,SAAvB,EAAkC1B,CAAC,IAAI;AACrC,WAAKD,KAAL,CAAW8F,SAAX,IAAwB,KAAK9F,KAAL,CAAW8F,SAAX,CAAqB7F,CAArB,CAAxB;AACD,KAFD;AAGAE,IAAAA,KAAK,CAACwB,gBAAN,CAAuB,gBAAvB,EAAyC1B,CAAC,IAAI;AAC5C,WAAKD,KAAL,CAAW+F,gBAAX,IAA+B,KAAK/F,KAAL,CAAW+F,gBAAX,CAA4B9F,CAA5B,CAA/B;AACD,KAFD;AAGAE,IAAAA,KAAK,CAACwB,gBAAN,CAAuB,MAAvB,EAA+B1B,CAAC,IAAI;AAClC,WAAKe,QAAL,CAAc;AACZwE,QAAAA,SAAS,EAAE;AADC,OAAd;AAGA,WAAKQ,cAAL;AACA,WAAKhG,KAAL,CAAWiG,MAAX,IAAqB,KAAKjG,KAAL,CAAWiG,MAAX,CAAkBhG,CAAlB,CAArB;AACD,KAND;AAOAE,IAAAA,KAAK,CAACwB,gBAAN,CAAuB,OAAvB,EAAgC1B,CAAC,IAAI;AACnC,WAAKiG,gBAAL;AACA,UAAI;AACFC,QAAAA;AADE,UAEA,KAAKnG,KAFT;;AAIA,UAAImG,sBAAJ,EAA4B;AAC1B,aAAKhG,KAAL,CAAWI,IAAX;AACD,OAFD,MAEO;AACL,aAAKS,QAAL,CAAc;AACZwE,UAAAA,SAAS,EAAE,KADC;AAEZhD,UAAAA,cAAc,EAAE;AAFJ,SAAd;AAID;;AAED,WAAKxC,KAAL,CAAWoG,OAAX,IAAsB,KAAKpG,KAAL,CAAWoG,OAAX,CAAmBnG,CAAnB,CAAtB;AACD,KAhBD;AAiBAE,IAAAA,KAAK,CAACwB,gBAAN,CAAuB,OAAvB,EAAgC1B,CAAC,IAAI;AACnC,WAAKiG,gBAAL;AACA,WAAKlG,KAAL,CAAWqG,OAAX,IAAsB,KAAKrG,KAAL,CAAWqG,OAAX,CAAmBpG,CAAnB,CAAtB;AACD,KAHD;AAIAE,IAAAA,KAAK,CAACwB,gBAAN,CAAuB,OAAvB,EAAgC1B,CAAC,IAAI;AACnC,WAAKiG,gBAAL;AACA,UAAI,CAAC,KAAK/F,KAAV,EAAiB;AACjB,WAAKa,QAAL,CAAc;AACZwE,QAAAA,SAAS,EAAE;AADC,OAAd;AAGA,WAAKxF,KAAL,CAAWsG,OAAX,IAAsB,KAAKtG,KAAL,CAAWsG,OAAX,CAAmBrG,CAAnB,CAAtB;AACD,KAPD;AAQAE,IAAAA,KAAK,CAACwB,gBAAN,CAAuB,UAAvB,EAAmC1B,CAAC,IAAI;AACtC,UAAIE,KAAK,GAAGF,CAAC,CAAC4E,MAAd;AACA,UAAIa,mBAAmB,GAAG,EAA1B;;AAEA,WAAK,IAAIa,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpG,KAAK,CAACqG,QAAN,CAAeC,MAAnC,EAA2CF,CAAC,EAA5C,EAAgD;AAC9C,YAAIG,aAAa,GAAGvG,KAAK,CAACqG,QAAN,CAAeG,KAAf,CAAqBJ,CAArB,CAApB;AACA,YAAIK,WAAW,GAAGzG,KAAK,CAACqG,QAAN,CAAeK,GAAf,CAAmBN,CAAnB,CAAlB;AACAb,QAAAA,mBAAmB,CAACoB,IAApB,CAAyB;AACvBzD,UAAAA,IAAI,EAAE,GAAGnC,MAAH,CAAUkD,IAAI,CAAC2C,KAAL,CAAW,MAAM5G,KAAK,CAACyD,QAAZ,GAAuB8C,aAAlC,KAAoD,CAA9D,EAAiE,GAAjE,CADiB;AAEvBxD,UAAAA,KAAK,EAAE,GAAGhC,MAAH,CAAUkD,IAAI,CAAC2C,KAAL,CAAW,MAAM5G,KAAK,CAACyD,QAAZ,IAAwBgD,WAAW,GAAGF,aAAtC,CAAX,KAAoE,CAA9E,EAAiF,GAAjF;AAFgB,SAAzB;AAID;;AAED,WAAK1F,QAAL,CAAc;AACZ0E,QAAAA;AADY,OAAd;AAGD,KAhBD;AAiBAvF,IAAAA,KAAK,CAACwB,gBAAN,CAAuB,YAAvB,EAAqC7B,aAAa,CAACkH,QAAd,CAAuB/G,CAAC,IAAI;AAC/D,UAAI;AACFmC,QAAAA;AADE,UAEA,KAAKC,KAFT;AAGA,UAAIlC,KAAK,GAAGF,CAAC,CAAC4E,MAAd;AACA,UAAIzC,kBAAJ,EAAwB;AACxB,UAAI;AACFwB,QAAAA,QADE;AAEFtB,QAAAA;AAFE,UAGAnC,KAHJ;AAIA,WAAKa,QAAL,CAAc;AACZwB,QAAAA,cAAc,EAAE,GAAGtB,MAAH,CAAU,CAACoB,WAAW,GAAGsB,QAAd,GAAyB,GAAzB,IAAgC,CAAjC,EAAoCzC,OAApC,CAA4C,CAA5C,CAAV,EAA0D,GAA1D;AADJ,OAAd;AAGD,KAboC,EAalC,KAAKnB,KAAL,CAAWiH,sBAbuB,CAArC;AAcD;;AAEDC,EAAAA,MAAM,GAAG;AACP,QAAI;AACFC,MAAAA,SADE;AAEF9G,MAAAA,GAFE;AAGF+G,MAAAA,OAHE;AAIFC,MAAAA,QAJE;AAKFC,MAAAA,WALE;AAMFC,MAAAA,UANE;AAOFC,MAAAA,eAPE;AAQFC,MAAAA,iBARE;AASFC,MAAAA,gBATE;AAUFC,MAAAA,gBAVE;AAWFC,MAAAA,eAXE;AAYFC,MAAAA,WAZE;AAaFC,MAAAA,oBAbE;AAcFC,MAAAA,QAdE;AAeFC,MAAAA;AAfE,QAgBA,KAAKhI,KAhBT;AAiBA,QAAI;AACFwC,MAAAA,cADE;AAEFvB,MAAAA,gBAFE;AAGFuE,MAAAA,SAHE;AAIFhC,MAAAA,aAJE;AAKFkC,MAAAA;AALE,QAMA,KAAKrD,KANT;AAOA,QAAI;AACFC,MAAAA,WADE;AAEFsB,MAAAA,QAFE;AAGF9C,MAAAA;AAHE,QAIA,KAAKX,KAJT;AAKA,WAAOlB,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAChCC,MAAAA,IAAI,EAAE,OAD0B;AAEhCC,MAAAA,QAAQ,EAAE,CAFsB;AAGhC,oBAAc,cAHkB;AAIhChB,MAAAA,SAAS,EAAE,kBAAkBjG,MAAlB,CAAyBiG,SAAzB,CAJqB;AAKhCiB,MAAAA,SAAS,EAAE,KAAKC,aALgB;AAMhCC,MAAAA,GAAG,EAAEC,KAAK,IAAI;AACZ,aAAKzD,SAAL,GAAiByD,KAAjB;AACD,OAR+B;AAShCP,MAAAA,KAAK,EAAEA;AATyB,KAA3B,EAUJ/I,KAAK,CAACgJ,aAAN,CAAoB,OAApB,EAA6B;AAC9B5H,MAAAA,GAAG,EAAEA,GADyB;AAE9BmI,MAAAA,QAAQ,EAAE,KAFoB;AAG9B/C,MAAAA,IAAI,EAAEjC,aAHwB;AAI9B6D,MAAAA,QAAQ,EAAEA,QAJoB;AAK9BD,MAAAA,OAAO,EAAEA,OALqB;AAM9BE,MAAAA,WAAW,EAAEA,WANiB;AAO9BC,MAAAA,UAAU,EAAEA,UAPkB;AAQ9Be,MAAAA,GAAG,EAAEG,IAAI,IAAI;AACX,aAAKtI,KAAL,GAAasI,IAAb;AACD;AAV6B,KAA7B,EAWAV,QAXA,CAVI,EAqBO9I,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AACvCd,MAAAA,SAAS,EAAE;AAD4B,KAA3B,EAEXlI,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAC5BS,MAAAA,EAAE,EAAE,mBADwB;AAE5BvB,MAAAA,SAAS,EAAE;AAFiB,KAA3B,EAGA,KAAKwB,uBAAL,CAA6BrG,WAA7B,CAHA,CAFW,EAKiCrD,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AACxEd,MAAAA,SAAS,EAAE,yBAD6D;AAExEmB,MAAAA,GAAG,EAAEM,KAAK,IAAI;AACZ,aAAK7E,WAAL,GAAmB6E,KAAnB;AACD,OAJuE;AAKxE,oBAAc,wBAL0D;AAMxE,0BAAoB,mBANoD;AAOxEV,MAAAA,IAAI,EAAE,aAPkE;AAQxE,uBAAiB,CARuD;AASxE,uBAAiB,GATuD;AAUxE,uBAAiBW,MAAM,CAACrG,cAAc,CAACsG,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAD,CAViD;AAWxEX,MAAAA,QAAQ,EAAE,CAX8D;AAYxEY,MAAAA,WAAW,EAAE,KAAKC,0BAZsD;AAaxEC,MAAAA,YAAY,EAAE,KAAKD;AAbqD,KAA3B,EAc5C/J,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAC5Bd,MAAAA,SAAS,EAAE,qBAAqBjG,MAArB,CAA4B4G,oBAAoB,GAAG,iCAAH,GAAuC,EAAvF;AADiB,KAA3B,EAEA7I,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAC5Bd,MAAAA,SAAS,EAAE,yBADiB;AAE5Ba,MAAAA,KAAK,EAAE;AACL3E,QAAAA,IAAI,EAAEb;AADD;AAFqB,KAA3B,CAFA,EAOCsF,oBAAoB,IAAIpC,mBAAmB,CAACwD,GAApB,CAAwB,CAACC,KAAD,EAAQ5C,CAAR,KAAc;AAChE,UAAI;AACFlD,QAAAA,IADE;AAEFH,QAAAA;AAFE,UAGAiG,KAHJ;AAIA,aAAOlK,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAChCvJ,QAAAA,GAAG,EAAE6H,CAD2B;AAEhCY,QAAAA,SAAS,EAAE,wBAFqB;AAGhCa,QAAAA,KAAK,EAAE;AACL3E,UAAAA,IADK;AAELH,UAAAA;AAFK;AAHyB,OAA3B,CAAP;AAQD,KAb2B,CAPzB,CAd4C,CALjC,EAuCRjE,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAC/Bd,MAAAA,SAAS,EAAE;AADoB,KAA3B,EAEH,KAAKwB,uBAAL,CAA6B/E,QAA7B,CAFG,CAvCQ,CArBP,EA8DsC3E,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AACtEd,MAAAA,SAAS,EAAE;AAD2D,KAA3B,EAE1ClI,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAC5Bd,MAAAA,SAAS,EAAE;AADiB,KAA3B,EAEAK,eAAe,IAAIvI,KAAK,CAACgJ,aAAN,CAAoB,QAApB,EAA8B;AAClD,oBAAczE,aAAa,GAAG,aAAH,GAAmB,cADI;AAElD2D,MAAAA,SAAS,EAAE,sCAFuC;AAGlDiC,MAAAA,OAAO,EAAE,KAAKhE;AAHoC,KAA9B,EAInBnG,KAAK,CAACgJ,aAAN,CAAoB9I,IAApB,EAA0B;AAC3BkK,MAAAA,IAAI,EAAE7F,aAAa,GAAG5D,MAAH,GAAYC;AADJ,KAA1B,CAJmB,CAFnB,CAF0C,EAUvCZ,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAC/Bd,MAAAA,SAAS,EAAE;AADoB,KAA3B,EAEHO,gBAAgB,IAAIzI,KAAK,CAACgJ,aAAN,CAAoB,QAApB,EAA8B;AACnD,oBAAc,UADqC;AAEnDd,MAAAA,SAAS,EAAE,8DAFwC;AAGnDiC,MAAAA,OAAO,EAAExB;AAH0C,KAA9B,EAIpB3I,KAAK,CAACgJ,aAAN,CAAoB9I,IAApB,EAA0B;AAC3BkK,MAAAA,IAAI,EAAE/J;AADqB,KAA1B,CAJoB,CAFjB,EAQDqI,gBAAgB,IAAI1I,KAAK,CAACgJ,aAAN,CAAoB,QAApB,EAA8B;AACrD,oBAAc,QADuC;AAErDd,MAAAA,SAAS,EAAE,gEAF0C;AAGrDiC,MAAAA,OAAO,EAAE,KAAKpE;AAHuC,KAA9B,EAItB/F,KAAK,CAACgJ,aAAN,CAAoB9I,IAApB,EAA0B;AAC3BkK,MAAAA,IAAI,EAAE5J;AADqB,KAA1B,CAJsB,CARnB,EAcDR,KAAK,CAACgJ,aAAN,CAAoB,QAApB,EAA8B;AACjC,oBAAczC,SAAS,GAAG,OAAH,GAAa,MADH;AAEjC2B,MAAAA,SAAS,EAAE,oEAFsB;AAGjCiC,MAAAA,OAAO,EAAE,KAAKrE;AAHmB,KAA9B,EAIFS,SAAS,GAAGvG,KAAK,CAACgJ,aAAN,CAAoB9I,IAApB,EAA0B;AACvCkK,MAAAA,IAAI,EAAEhK;AADiC,KAA1B,CAAH,GAEPJ,KAAK,CAACgJ,aAAN,CAAoB9I,IAApB,EAA0B;AAC7BkK,MAAAA,IAAI,EAAEjK;AADuB,KAA1B,CANA,CAdC,EAsBDuI,gBAAgB,IAAI1I,KAAK,CAACgJ,aAAN,CAAoB,QAApB,EAA8B;AACrD,oBAAc,SADuC;AAErDd,MAAAA,SAAS,EAAE,iEAF0C;AAGrDiC,MAAAA,OAAO,EAAE,KAAKnE;AAHuC,KAA9B,EAItBhG,KAAK,CAACgJ,aAAN,CAAoB9I,IAApB,EAA0B;AAC3BkK,MAAAA,IAAI,EAAE7J;AADqB,KAA1B,CAJsB,CAtBnB,EA4BDkI,gBAAgB,IAAIzI,KAAK,CAACgJ,aAAN,CAAoB,QAApB,EAA8B;AACrD,oBAAc,MADuC;AAErDd,MAAAA,SAAS,EAAE,8DAF0C;AAGrDiC,MAAAA,OAAO,EAAEvB;AAH4C,KAA9B,EAItB5I,KAAK,CAACgJ,aAAN,CAAoB9I,IAApB,EAA0B;AAC3BkK,MAAAA,IAAI,EAAE9J;AADqB,KAA1B,CAJsB,CA5BnB,CAVuC,EA4CvCN,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAC/Bd,MAAAA,SAAS,EAAE;AADoB,KAA3B,EAEHM,iBAAiB,IAAIxI,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AACjDd,MAAAA,SAAS,EAAE;AADsC,KAA3B,EAErBlI,KAAK,CAACgJ,aAAN,CAAoB,QAApB,EAA8B;AAC/B,oBAAcnH,MAAM,GAAG,MAAH,GAAY,QADD;AAE/BsI,MAAAA,OAAO,EAAE,KAAK/D,uBAFiB;AAG/B8B,MAAAA,SAAS,EAAE;AAHoB,KAA9B,EAIAlI,KAAK,CAACgJ,aAAN,CAAoB9I,IAApB,EAA0B;AAC3BkK,MAAAA,IAAI,EAAEvI,MAAM,GAAGpB,UAAH,GAAgBC;AADD,KAA1B,CAJA,CAFqB,EAQnBV,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAC9BK,MAAAA,GAAG,EAAEgB,KAAK,IAAI;AACZ,aAAKxG,aAAL,GAAqBwG,KAArB;AACD,OAH6B;AAI9BP,MAAAA,WAAW,EAAE,KAAKQ,4BAJY;AAK9BN,MAAAA,YAAY,EAAE,KAAKM,4BALW;AAM9BrB,MAAAA,IAAI,EAAE,aANwB;AAO9B,oBAAc,gBAPgB;AAQ9B,uBAAiB,CARa;AAS9B,uBAAiB,GATa;AAU9B,uBAAiBW,MAAM,CAAC,CAAC/H,MAAM,GAAG,GAAV,EAAeK,OAAf,CAAuB,CAAvB,CAAD,CAVO;AAW9BgH,MAAAA,QAAQ,EAAE,CAXoB;AAY9BhB,MAAAA,SAAS,EAAE;AAZmB,KAA3B,EAaFlI,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAC5Bd,MAAAA,SAAS,EAAE;AADiB,KAA3B,EAEAlI,KAAK,CAACgJ,aAAN,CAAoB,KAApB,EAA2B;AAC5Bd,MAAAA,SAAS,EAAE,uBADiB;AAE5Ba,MAAAA,KAAK,EAAE;AACL3E,QAAAA,IAAI,EAAEpC;AADD;AAFqB,KAA3B,CAFA,CAbE,CARmB,CAFlB,CA5CuC,CA9DtC,CAAP;AAyID;;AA5kBmC;;AAglBtCzC,eAAe,CAACsB,aAAD,EAAgB,cAAhB,EAAgC;AAC7CuH,EAAAA,QAAQ,EAAE,KADmC;AAE7ClB,EAAAA,sBAAsB,EAAE,IAFqB;AAG7C3B,EAAAA,cAAc,EAAE,IAH6B;AAI7Cd,EAAAA,gBAAgB,EAAE,IAJ2B;AAK7CyB,EAAAA,cAAc,EAAE,GAL6B;AAM7CM,EAAAA,IAAI,EAAE,KANuC;AAO7CF,EAAAA,KAAK,EAAE,KAPsC;AAQ7C6B,EAAAA,OAAO,EAAE,MARoC;AAS7CH,EAAAA,sBAAsB,EAAE,EATqB;AAU7CnG,EAAAA,MAAM,EAAE,GAVqC;AAW7CqG,EAAAA,SAAS,EAAE,EAXkC;AAY7CK,EAAAA,eAAe,EAAE,IAZ4B;AAa7CC,EAAAA,iBAAiB,EAAE,IAb0B;AAc7CE,EAAAA,gBAAgB,EAAE,IAd2B;AAe7CD,EAAAA,gBAAgB,EAAE,KAf2B;AAgB7CI,EAAAA,oBAAoB,EAAE;AAhBuB,CAAhC,CAAf;;AAmBAtJ,eAAe,CAACsB,aAAD,EAAgB,gBAAhB,EAAkC0J,GAAG,IAAIA,GAAG,GAAG,CAAN,GAAUA,GAAG,CAACC,QAAJ,EAAV,GAA2B,IAAIvI,MAAJ,CAAWsI,GAAX,CAApE,CAAf;;AAEAhL,eAAe,CAACsB,aAAD,EAAgB,SAAhB,EAA2BsB,KAAK,IAAI;AACjD,MAAIsI,IAAI,GAAG,CAAX;;AAEA,MAAItI,KAAK,YAAYK,UAArB,EAAiC;AAC/BiI,IAAAA,IAAI,GAAGtI,KAAK,CAACuI,OAAN,CAAc,CAAd,EAAiBC,KAAxB;AACD,GAFD,MAEO,IAAIxI,KAAK,YAAYU,UAArB,EAAiC;AACtC4H,IAAAA,IAAI,GAAGtI,KAAK,CAACwI,KAAN,IAAexI,KAAK,CAACyI,OAA5B;AACD;;AAED,SAAOH,IAAP;AACD,CAVc,CAAf;;AAYAlL,eAAe,CAACsB,aAAD,EAAgB,UAAhB,EAA4B,CAACgK,IAAD,EAAOC,KAAP,KAAiB;AAC1D,MAAIC,UAAU,GAAG,KAAjB;AACA,SAAO,UAAUC,GAAV,EAAe;AACpB,QAAI,CAACD,UAAL,EAAiB;AACfF,MAAAA,IAAI,CAACG,GAAD,CAAJ;AACAD,MAAAA,UAAU,GAAG,IAAb;AACAE,MAAAA,UAAU,CAAC,MAAMF,UAAU,GAAG,KAApB,EAA2BD,KAA3B,CAAV;AACD;AACF,GAND;AAOD,CATc,CAAf;;AAWA,eAAejK,aAAf","sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { Icon } from '@iconify/react';\nimport playCircle from '@iconify/icons-mdi/play-circle';\nimport pauseCircle from '@iconify/icons-mdi/pause-circle';\nimport skipPrevious from '@iconify/icons-mdi/skip-previous';\nimport skipNext from '@iconify/icons-mdi/skip-next';\nimport fastForward from '@iconify/icons-mdi/fast-forward';\nimport rewind from '@iconify/icons-mdi/rewind';\nimport volumeHigh from '@iconify/icons-mdi/volume-high';\nimport volumeMute from '@iconify/icons-mdi/volume-mute';\nimport repeat from '@iconify/icons-mdi/repeat';\nimport repeatOff from '@iconify/icons-mdi/repeat-off';\n\nclass H5AudioPlayer extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", void 0);\n\n    _defineProperty(this, \"audio\", void 0);\n\n    _defineProperty(this, \"volumeControl\", void 0);\n\n    _defineProperty(this, \"progressBar\", void 0);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"lastVolume\", void 0);\n\n    _defineProperty(this, \"timeOnMouseMove\", void 0);\n\n    _defineProperty(this, \"listenTracker\", void 0);\n\n    _defineProperty(this, \"togglePlay\", e => {\n      e.stopPropagation();\n\n      if (this.audio.paused && this.audio.src) {\n        var audioPromise = this.audio.play();\n        audioPromise.then(null).catch(err => {\n          var {\n            onPlayError\n          } = this.props;\n          onPlayError && onPlayError(new Error(err));\n        });\n      } else if (!this.audio.paused) {\n        this.audio.pause();\n      }\n    });\n\n    _defineProperty(this, \"handleClickVolumeButton\", () => {\n      if (this.audio.volume > 0) {\n        this.lastVolume = this.audio.volume;\n        this.audio.volume = 0;\n      } else {\n        this.audio.volume = this.lastVolume;\n      }\n\n      this.setState({\n        currentVolumePos: \"\".concat((this.audio.volume * 100).toFixed(0), \"%\")\n      });\n    });\n\n    _defineProperty(this, \"handleVolumnControlMouseDown\", event => {\n      event.stopPropagation();\n      var {\n        currentVolume,\n        currentVolumePos\n      } = this.getCurrentVolume(event.nativeEvent);\n      this.audio.volume = currentVolume;\n      this.setState({\n        isDraggingVolume: true,\n        currentVolumePos\n      });\n\n      if (event.nativeEvent instanceof TouchEvent) {\n        window.addEventListener('touchmove', this.handleWindowMouseOrTouchMove);\n        window.addEventListener('touchend', this.handleWindowMouseOrTouchUp);\n      } else if (event.nativeEvent instanceof MouseEvent) {\n        window.addEventListener('mousemove', this.handleWindowMouseOrTouchMove);\n        window.addEventListener('mouseup', this.handleWindowMouseOrTouchUp);\n      }\n    });\n\n    _defineProperty(this, \"handleWindowMouseOrTouchMove\", event => {\n      event.preventDefault();\n      event.stopPropagation();\n      var windowSelection = window.getSelection();\n\n      if (windowSelection && windowSelection.type === 'Range') {\n        windowSelection.empty();\n      }\n\n      var {\n        isDraggingVolume,\n        isDraggingProgress\n      } = this.state;\n\n      if (isDraggingVolume) {\n        var {\n          currentVolume,\n          currentVolumePos\n        } = this.getCurrentVolume(event);\n        this.audio.volume = currentVolume;\n        this.setState({\n          currentVolumePos\n        });\n      } else if (isDraggingProgress) {\n        var {\n          currentTime: _currentTime,\n          currentTimePos\n        } = this.getCurrentProgress(event);\n        this.timeOnMouseMove = _currentTime;\n        this.setState({\n          currentTimePos\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleWindowMouseOrTouchUp\", event => {\n      event.stopPropagation();\n      this.setState(prevState => {\n        if (prevState.isDraggingProgress && isFinite(this.timeOnMouseMove)) {\n          this.audio.currentTime = this.timeOnMouseMove;\n        }\n\n        return {\n          isDraggingVolume: false,\n          isDraggingProgress: false\n        };\n      });\n\n      if (event instanceof TouchEvent) {\n        window.removeEventListener('touchmove', this.handleWindowMouseOrTouchMove);\n        window.removeEventListener('touchend', this.handleWindowMouseOrTouchUp);\n      } else {\n        window.removeEventListener('mousemove', this.handleWindowMouseOrTouchMove);\n        window.removeEventListener('mouseup', this.handleWindowMouseOrTouchUp);\n      }\n    });\n\n    _defineProperty(this, \"getCurrentVolume\", event => {\n      if (!this.volumeControl) {\n        return {\n          currentVolume: this.audio.volume,\n          currentVolumePos: this.state.currentVolumePos\n        };\n      }\n\n      var volumeBarRect = this.volumeControl.getBoundingClientRect();\n      var maxRelativePos = volumeBarRect.width;\n      var relativePos = H5AudioPlayer.getPosX(event) - volumeBarRect.left;\n      var currentVolume;\n      var currentVolumePos;\n\n      if (relativePos < 0) {\n        currentVolume = 0;\n        currentVolumePos = '0%';\n      } else if (relativePos > volumeBarRect.width) {\n        currentVolume = 1;\n        currentVolumePos = '100%';\n      } else {\n        currentVolume = relativePos / maxRelativePos;\n        currentVolumePos = \"\".concat(relativePos / maxRelativePos * 100, \"%\");\n      }\n\n      return {\n        currentVolume,\n        currentVolumePos\n      };\n    });\n\n    _defineProperty(this, \"handleMouseDownProgressBar\", event => {\n      event.stopPropagation();\n      var isTouch = event.type.startsWith('touch');\n      var {\n        currentTime,\n        currentTimePos\n      } = this.getCurrentProgress(event.nativeEvent);\n\n      if (isFinite(currentTime)) {\n        this.timeOnMouseMove = currentTime;\n        this.setState({\n          isDraggingProgress: true,\n          currentTimePos\n        });\n\n        if (isTouch) {\n          window.addEventListener('touchmove', this.handleWindowMouseOrTouchMove);\n          window.addEventListener('touchend', this.handleWindowMouseOrTouchUp);\n        } else {\n          window.addEventListener('mousemove', this.handleWindowMouseOrTouchMove);\n          window.addEventListener('mouseup', this.handleWindowMouseOrTouchUp);\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleClickLoopButton\", () => {\n      this.setState(prevState => ({\n        isLoopEnabled: !prevState.isLoopEnabled\n      }));\n    });\n\n    _defineProperty(this, \"handleClickRewind\", () => {\n      this.setJumpTime(-this.props.progressJumpStep);\n    });\n\n    _defineProperty(this, \"handleClickForward\", () => {\n      this.setJumpTime(this.props.progressJumpStep);\n    });\n\n    _defineProperty(this, \"setJumpTime\", time => {\n      var {\n        duration,\n        currentTime: prevTime\n      } = this.audio;\n      if (!isFinite(duration) || !isFinite(prevTime)) return;\n      var currentTime = prevTime + time / 1000;\n\n      if (currentTime < 0) {\n        this.audio.currentTime = 0;\n        currentTime = 0;\n      } else if (currentTime > duration) {\n        this.audio.currentTime = duration;\n        currentTime = duration;\n      } else {\n        this.audio.currentTime = currentTime;\n      }\n\n      this.setState({\n        currentTimePos: \"\".concat(currentTime / duration * 100, \"%\")\n      });\n    });\n\n    _defineProperty(this, \"setJumpVolume\", volume => {\n      var newVolume = this.audio.volume + volume;\n      if (newVolume < 0) newVolume = 0;else if (newVolume > 1) newVolume = 1;\n      this.audio.volume = newVolume;\n      this.setState({\n        currentVolumePos: \"\".concat((newVolume * 100).toFixed(0), \"%\")\n      });\n    });\n\n    _defineProperty(this, \"getCurrentProgress\", event => {\n      if (!this.audio.src || !isFinite(this.audio.currentTime) || !this.progressBar) {\n        return {\n          currentTime: 0,\n          currentTimePos: '0%'\n        };\n      }\n\n      var progressBarRect = this.progressBar.getBoundingClientRect();\n      var maxRelativePos = progressBarRect.width;\n      var relativePos = H5AudioPlayer.getPosX(event) - progressBarRect.left;\n\n      if (relativePos < 0) {\n        relativePos = 0;\n      } else if (relativePos > maxRelativePos) {\n        relativePos = maxRelativePos;\n      }\n\n      var currentTime = this.audio.duration * relativePos / maxRelativePos;\n      return {\n        currentTime,\n        currentTimePos: \"\".concat((relativePos / maxRelativePos * 100).toFixed(2), \"%\")\n      };\n    });\n\n    _defineProperty(this, \"getDisplayTimeBySeconds\", seconds => {\n      if (!isFinite(seconds)) {\n        return '00:00';\n      }\n\n      var addHeadingZero = H5AudioPlayer.addHeadingZero;\n      var min = addHeadingZero(Math.floor(seconds / 60));\n      var sec = addHeadingZero(Math.floor(seconds % 60));\n      return \"\".concat(min, \":\").concat(sec);\n    });\n\n    _defineProperty(this, \"setListenTrack\", () => {\n      if (!this.listenTracker) {\n        var listenInterval = this.props.listenInterval;\n        this.listenTracker = setInterval(() => {\n          this.props.onListen && this.props.onListen(this.audio.currentTime);\n        }, listenInterval);\n      }\n    });\n\n    _defineProperty(this, \"clearListenTrack\", () => {\n      if (this.listenTracker) {\n        clearInterval(this.listenTracker);\n        delete this.listenTracker;\n      }\n    });\n\n    _defineProperty(this, \"handleKeyDown\", e => {\n      switch (e.keyCode) {\n        case 32:\n          if (e.target === this.container || e.target === this.progressBar) {\n            this.togglePlay(e);\n          }\n\n          break;\n\n        case 37:\n          this.handleClickRewind();\n          break;\n\n        case 39:\n          this.handleClickForward();\n          break;\n\n        case 38:\n          this.setJumpVolume(this.props.volumeJumpStep);\n          break;\n\n        case 40:\n          this.setJumpVolume(-this.props.volumeJumpStep);\n          break;\n\n        case 76:\n          this.handleClickLoopButton();\n          break;\n\n        case 77:\n          this.handleClickVolumeButton();\n          break;\n      }\n    });\n\n    var {\n      volume: _volume,\n      muted\n    } = props;\n    this.state = {\n      currentTimePos: '0%',\n      currentVolumePos: muted ? '0%' : \"\".concat(_volume * 100, \"%\"),\n      isDraggingProgress: false,\n      isDraggingVolume: false,\n      isPlaying: false,\n      isLoopEnabled: this.props.loop,\n      downloadProgressArr: []\n    };\n    this.audio = new Audio();\n    this.lastVolume = _volume;\n    this.timeOnMouseMove = 0;\n  }\n\n  componentDidMount() {\n    var audio = this.audio;\n\n    if (this.props.muted) {\n      audio.volume = 0;\n    } else {\n      audio.volume = this.lastVolume;\n    }\n\n    audio.addEventListener('error', e => {\n      this.props.onError && this.props.onError(e);\n    });\n    audio.addEventListener('canplay', e => {\n      this.props.onCanPlay && this.props.onCanPlay(e);\n    });\n    audio.addEventListener('canplaythrough', e => {\n      this.props.onCanPlayThrough && this.props.onCanPlayThrough(e);\n    });\n    audio.addEventListener('play', e => {\n      this.setState({\n        isPlaying: true\n      });\n      this.setListenTrack();\n      this.props.onPlay && this.props.onPlay(e);\n    });\n    audio.addEventListener('abort', e => {\n      this.clearListenTrack();\n      var {\n        autoPlayAfterSrcChange\n      } = this.props;\n\n      if (autoPlayAfterSrcChange) {\n        this.audio.play();\n      } else {\n        this.setState({\n          isPlaying: false,\n          currentTimePos: '0%'\n        });\n      }\n\n      this.props.onAbort && this.props.onAbort(e);\n    });\n    audio.addEventListener('ended', e => {\n      this.clearListenTrack();\n      this.props.onEnded && this.props.onEnded(e);\n    });\n    audio.addEventListener('pause', e => {\n      this.clearListenTrack();\n      if (!this.audio) return;\n      this.setState({\n        isPlaying: false\n      });\n      this.props.onPause && this.props.onPause(e);\n    });\n    audio.addEventListener('progress', e => {\n      var audio = e.target;\n      var downloadProgressArr = [];\n\n      for (var i = 0; i < audio.buffered.length; i++) {\n        var bufferedStart = audio.buffered.start(i);\n        var bufferedEnd = audio.buffered.end(i);\n        downloadProgressArr.push({\n          left: \"\".concat(Math.round(100 / audio.duration * bufferedStart) || 0, \"%\"),\n          width: \"\".concat(Math.round(100 / audio.duration * (bufferedEnd - bufferedStart)) || 0, \"%\")\n        });\n      }\n\n      this.setState({\n        downloadProgressArr\n      });\n    });\n    audio.addEventListener('timeupdate', H5AudioPlayer.throttle(e => {\n      var {\n        isDraggingProgress\n      } = this.state;\n      var audio = e.target;\n      if (isDraggingProgress) return;\n      var {\n        duration,\n        currentTime\n      } = audio;\n      this.setState({\n        currentTimePos: \"\".concat((currentTime / duration * 100 || 0).toFixed(2), \"%\")\n      });\n    }, this.props.progressUpdateInterval));\n  }\n\n  render() {\n    var {\n      className,\n      src,\n      preload,\n      autoPlay,\n      crossOrigin,\n      mediaGroup,\n      showLoopControl,\n      showVolumeControl,\n      showSkipControls,\n      showJumpControls,\n      onClickPrevious,\n      onClickNext,\n      showDownloadProgress,\n      children,\n      style\n    } = this.props;\n    var {\n      currentTimePos,\n      currentVolumePos,\n      isPlaying,\n      isLoopEnabled,\n      downloadProgressArr\n    } = this.state;\n    var {\n      currentTime,\n      duration,\n      volume\n    } = this.audio;\n    return React.createElement(\"div\", {\n      role: \"group\",\n      tabIndex: 0,\n      \"aria-label\": \"Audio Player\",\n      className: \"rhap_container \".concat(className),\n      onKeyDown: this.handleKeyDown,\n      ref: _ref5 => {\n        this.container = _ref5;\n      },\n      style: style\n    }, React.createElement(\"audio\", {\n      src: src,\n      controls: false,\n      loop: isLoopEnabled,\n      autoPlay: autoPlay,\n      preload: preload,\n      crossOrigin: crossOrigin,\n      mediaGroup: mediaGroup,\n      ref: _ref => {\n        this.audio = _ref;\n      }\n    }, children), React.createElement(\"div\", {\n      className: \"rhap_progress-section\"\n    }, React.createElement(\"div\", {\n      id: \"rhap_current-time\",\n      className: \"rhap_time rhap_current-time\"\n    }, this.getDisplayTimeBySeconds(currentTime)), React.createElement(\"div\", {\n      className: \"rhap_progress-container\",\n      ref: _ref3 => {\n        this.progressBar = _ref3;\n      },\n      \"aria-label\": \"Audio Progress Control\",\n      \"aria-describedby\": \"rhap_current-time\",\n      role: \"progressbar\",\n      \"aria-valuemin\": 0,\n      \"aria-valuemax\": 100,\n      \"aria-valuenow\": Number(currentTimePos.split('%')[0]),\n      tabIndex: 0,\n      onMouseDown: this.handleMouseDownProgressBar,\n      onTouchStart: this.handleMouseDownProgressBar\n    }, React.createElement(\"div\", {\n      className: \"rhap_progress-bar \".concat(showDownloadProgress ? 'rhap_progress-bar-show-download' : '')\n    }, React.createElement(\"div\", {\n      className: \"rhap_progress-indicator\",\n      style: {\n        left: currentTimePos\n      }\n    }), showDownloadProgress && downloadProgressArr.map((_ref2, i) => {\n      var {\n        left,\n        width\n      } = _ref2;\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"rhap_download-progress\",\n        style: {\n          left,\n          width\n        }\n      });\n    }))), React.createElement(\"div\", {\n      className: \"rhap_time rhap_total-time\"\n    }, this.getDisplayTimeBySeconds(duration))), React.createElement(\"div\", {\n      className: \"rhap_controls-section\"\n    }, React.createElement(\"div\", {\n      className: \"rhap_additional-controls\"\n    }, showLoopControl && React.createElement(\"button\", {\n      \"aria-label\": isLoopEnabled ? 'Enable Loop' : 'Disable Loop',\n      className: \"rhap_button-clear rhap_repeat-button\",\n      onClick: this.handleClickLoopButton\n    }, React.createElement(Icon, {\n      icon: isLoopEnabled ? repeat : repeatOff\n    }))), React.createElement(\"div\", {\n      className: \"rhap_main-controls\"\n    }, showSkipControls && React.createElement(\"button\", {\n      \"aria-label\": \"Previous\",\n      className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n      onClick: onClickPrevious\n    }, React.createElement(Icon, {\n      icon: skipPrevious\n    })), showJumpControls && React.createElement(\"button\", {\n      \"aria-label\": \"Rewind\",\n      className: \"rhap_button-clear rhap_main-controls-button rhap_rewind-button\",\n      onClick: this.handleClickRewind\n    }, React.createElement(Icon, {\n      icon: rewind\n    })), React.createElement(\"button\", {\n      \"aria-label\": isPlaying ? 'Pause' : 'Play',\n      className: \"rhap_button-clear rhap_main-controls-button rhap_play-pause-button\",\n      onClick: this.togglePlay\n    }, isPlaying ? React.createElement(Icon, {\n      icon: pauseCircle\n    }) : React.createElement(Icon, {\n      icon: playCircle\n    })), showJumpControls && React.createElement(\"button\", {\n      \"aria-label\": \"Forward\",\n      className: \"rhap_button-clear rhap_main-controls-button rhap_forward-button\",\n      onClick: this.handleClickForward\n    }, React.createElement(Icon, {\n      icon: fastForward\n    })), showSkipControls && React.createElement(\"button\", {\n      \"aria-label\": \"Skip\",\n      className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n      onClick: onClickNext\n    }, React.createElement(Icon, {\n      icon: skipNext\n    }))), React.createElement(\"div\", {\n      className: \"rhap_volume-controls\"\n    }, showVolumeControl && React.createElement(\"div\", {\n      className: \"rhap_volume-container\"\n    }, React.createElement(\"button\", {\n      \"aria-label\": volume ? 'Mute' : 'Unmute',\n      onClick: this.handleClickVolumeButton,\n      className: \"rhap_button-clear rhap_volume-button\"\n    }, React.createElement(Icon, {\n      icon: volume ? volumeHigh : volumeMute\n    })), React.createElement(\"div\", {\n      ref: _ref4 => {\n        this.volumeControl = _ref4;\n      },\n      onMouseDown: this.handleVolumnControlMouseDown,\n      onTouchStart: this.handleVolumnControlMouseDown,\n      role: \"progressbar\",\n      \"aria-label\": \"volume Control\",\n      \"aria-valuemin\": 0,\n      \"aria-valuemax\": 100,\n      \"aria-valuenow\": Number((volume * 100).toFixed(0)),\n      tabIndex: 0,\n      className: \"rhap_volume-bar-area\"\n    }, React.createElement(\"div\", {\n      className: \"rhap_volume-bar\"\n    }, React.createElement(\"div\", {\n      className: \"rhap_volume-indicator\",\n      style: {\n        left: currentVolumePos\n      }\n    })))))));\n  }\n\n}\n\n_defineProperty(H5AudioPlayer, \"defaultProps\", {\n  autoPlay: false,\n  autoPlayAfterSrcChange: true,\n  listenInterval: 1000,\n  progressJumpStep: 5000,\n  volumeJumpStep: 0.1,\n  loop: false,\n  muted: false,\n  preload: 'auto',\n  progressUpdateInterval: 20,\n  volume: 1.0,\n  className: '',\n  showLoopControl: true,\n  showVolumeControl: true,\n  showJumpControls: true,\n  showSkipControls: false,\n  showDownloadProgress: true\n});\n\n_defineProperty(H5AudioPlayer, \"addHeadingZero\", num => num > 9 ? num.toString() : \"0\".concat(num));\n\n_defineProperty(H5AudioPlayer, \"getPosX\", event => {\n  var posX = 0;\n\n  if (event instanceof TouchEvent) {\n    posX = event.touches[0].pageX;\n  } else if (event instanceof MouseEvent) {\n    posX = event.pageX || event.clientX;\n  }\n\n  return posX;\n});\n\n_defineProperty(H5AudioPlayer, \"throttle\", (func, limit) => {\n  var inThrottle = false;\n  return function (arg) {\n    if (!inThrottle) {\n      func(arg);\n      inThrottle = true;\n      setTimeout(() => inThrottle = false, limit);\n    }\n  };\n});\n\nexport default H5AudioPlayer;"]},"metadata":{},"sourceType":"module"}